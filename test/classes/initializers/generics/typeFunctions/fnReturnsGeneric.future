bug: Can't write a type function that returns a generic class

This test shows that we can't write a type function that returns a
generic class and use it to create a new object.  This is
probably somewhat related to issue #5143.
